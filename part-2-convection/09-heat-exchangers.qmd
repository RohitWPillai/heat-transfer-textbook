# Heat Exchangers

::: {.callout-note}
## Learning Objectives
After this chapter, you will be able to:

- Classify heat exchangers by type and flow arrangement
- Design heat exchangers using the LMTD method
- Analyse heat exchangers using the effectiveness-NTU method
:::

## Introduction

Heat exchangers are devices that transfer heat between two fluids. They're everywhere: car radiators, power plants, HVAC, refrigerators.

<!-- TODO: Add content from Lecture 5 transcripts -->

## Types of Heat Exchangers

### By Construction
- Shell-and-tube
- Plate
- Finned-tube
- Regenerators

### By Flow Arrangement
- Parallel flow
- Counter flow
- Cross flow

## The LMTD Method

$$q = U A \Delta T_{lm}$$

where the log-mean temperature difference is:

$$\Delta T_{lm} = \frac{\Delta T_1 - \Delta T_2}{\ln(\Delta T_1 / \Delta T_2)}$$

```{python}
import numpy as np

def lmtd(dT1: float, dT2: float) -> float:
    """Calculate log-mean temperature difference."""
    if np.isclose(dT1, dT2):
        return dT1
    return (dT1 - dT2) / np.log(dT1 / dT2)

# Counter-flow example
T_h_in, T_h_out = 150, 90  # Hot fluid
T_c_in, T_c_out = 30, 70   # Cold fluid

dT1 = T_h_in - T_c_out   # 150 - 70 = 80
dT2 = T_h_out - T_c_in   # 90 - 30 = 60

print(f"LMTD = {lmtd(dT1, dT2):.1f} °C")
```

## The Effectiveness-NTU Method

**Effectiveness:**
$$\varepsilon = \frac{q}{q_\text{max}} = \frac{q}{C_\text{min}(T_{h,in} - T_{c,in})}$$

**Number of Transfer Units:**
$$\text{NTU} = \frac{UA}{C_\text{min}}$$

**Capacity ratio:**
$$C_r = \frac{C_\text{min}}{C_\text{max}}$$

### Counter-Flow Relations

$$\varepsilon = \frac{1 - \exp[-\text{NTU}(1-C_r)]}{1 - C_r \exp[-\text{NTU}(1-C_r)]}$$

```{python}
def effectiveness_counterflow(NTU: float, Cr: float) -> float:
    """Effectiveness for counter-flow heat exchanger."""
    if np.isclose(Cr, 1):
        return NTU / (1 + NTU)
    return (1 - np.exp(-NTU * (1 - Cr))) / (1 - Cr * np.exp(-NTU * (1 - Cr)))

# Example
NTU = 2.0
Cr = 0.5
eps = effectiveness_counterflow(NTU, Cr)
print(f"Effectiveness ε = {eps:.3f}")
```

## Sizing vs Rating Problems

| Problem Type | Given | Find |
|-------------|-------|------|
| **Sizing** | Inlet temps, flow rates, required Q | Area A |
| **Rating** | Inlet temps, flow rates, Area A | Outlet temps, Q |

## Summary

::: {.callout-tip}
## Key Takeaways
- LMTD method: good for sizing when outlets are known
- ε-NTU method: good for rating and when outlets are unknown
- Counter-flow is always more effective than parallel flow
:::

## Exercises

<!-- TODO: Add exercises -->
