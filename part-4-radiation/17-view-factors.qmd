# View Factors

::: {.callout-note}
## Learning Objectives
After this chapter, you will be able to:

- Define and calculate view factors
- Apply reciprocity and summation rules
- Use view factor algebra for complex geometries
:::

## Introduction

The **view factor** $F_{i \to j}$ is the fraction of radiation leaving surface $i$ that reaches surface $j$. It's purely geometric.

<!-- TODO: Add content from Lecture 10 transcripts -->

## Definition

$$F_{i \to j} = \frac{\text{radiation from } i \text{ reaching } j}{\text{total radiation from } i}$$

Mathematically:

$$F_{i \to j} = \frac{1}{A_i} \int_{A_i} \int_{A_j} \frac{\cos\theta_i \cos\theta_j}{\pi r^2} dA_j dA_i$$

## Key Properties

### Reciprocity

$$A_i F_{i \to j} = A_j F_{j \to i}$$

### Summation Rule

For an enclosure with N surfaces:

$$\sum_{j=1}^{N} F_{i \to j} = 1$$

### Self-view Factor

- Flat or convex: $F_{i \to i} = 0$
- Concave: $F_{i \to i} > 0$

## Common Geometries

### Parallel Plates (equal size)

```{python}
import numpy as np

def view_factor_parallel_plates(a, b, c):
    """
    View factor between parallel rectangles of size a×b
    separated by distance c.
    """
    X = a / c
    Y = b / c

    term1 = np.log((1 + X**2) * (1 + Y**2) / (1 + X**2 + Y**2))
    term2 = X * np.sqrt(1 + Y**2) * np.arctan(X / np.sqrt(1 + Y**2))
    term3 = Y * np.sqrt(1 + X**2) * np.arctan(Y / np.sqrt(1 + X**2))
    term4 = -X * np.arctan(X) - Y * np.arctan(Y)

    F = (2 / (np.pi * X * Y)) * (term1/2 + term2 + term3 + term4)
    return F

# Example
a, b, c = 1, 1, 0.5  # 1m × 1m plates, 0.5m apart
F = view_factor_parallel_plates(a, b, c)
print(f"View factor F_12 = {F:.3f}")
```

### Perpendicular Rectangles

<!-- TODO: Add formula and code -->

## View Factor Algebra

For complex geometries, combine simple shapes:

$$F_{1 \to (2+3)} = F_{1 \to 2} + F_{1 \to 3}$$

## Summary

::: {.callout-tip}
## Key Takeaways
- View factors are purely geometric
- Reciprocity: $A_i F_{ij} = A_j F_{ji}$
- Summation: $\sum F_{ij} = 1$ in an enclosure
- Use algebra to build complex geometries from simple ones
:::

## Exercises

<!-- TODO: Add exercises -->
